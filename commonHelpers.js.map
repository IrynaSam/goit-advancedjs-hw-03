{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.headers.common['x-api-key'] =\r\n  'live_NXtFYyIyi6WXrDnJSG1ixW6MQi3wZYfksHpLsoKbmmCpFoezfA46Kb4dRh3yr5Yq';\r\n\r\nexport async function fetchBreeds() {\r\n  const response = await axios.get('https://api.thecatapi.com/v1/breeds');\r\n  return response.data;\r\n}\r\n\r\nexport async function fetchCatByBreed(breedId) {\r\n  const response = await axios.get(\r\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\r\n  );\r\n  return response.data;\r\n}\r\n","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\r\n//page elements\r\nconst body = document.querySelector('body');\r\nconst select = document.querySelector('.breed-select');\r\nconst loader = document.querySelector('.loader');\r\nconst catInfo = document.querySelector('.cat-info');\r\n\r\nselect.style.display = 'none';\r\n\r\ndocument.addEventListener('DOMContentLoaded', onDocumentLoad);\r\nselect.addEventListener('change', breedClickHandler);\r\n//function to request cat info\r\nasync function breedClickHandler(e) {\r\n  const selectedOption = e.target.value;\r\n\r\n  try {\r\n    catInfo.style.display = 'none';\r\n    loader.style.display = 'block';\r\n    const breed = await fetchCatByBreed(selectedOption);\r\n    loader.style.display = 'none';\r\n    renderCatInfo(breed);\r\n  } catch (error) {\r\n    body.innerHTML = `Ooops, something went wrong!...Try again later`;\r\n    iziToast.error({\r\n      message: `Failed to load content`,\r\n      position: 'topRight',\r\n      backgroundColor: 'red',\r\n      messageColor: 'rgb(231, 231, 219)',\r\n      iconColor: 'rgb(231, 231, 219)',\r\n    });\r\n    console.log(`${error.message}`);\r\n  }\r\n}\r\n//function executed on page load\r\nasync function onDocumentLoad() {\r\n  try {\r\n    const breeds = await fetchBreeds();\r\n    console.log(breeds);\r\n    loader.style.display = 'none';\r\n    renderBreeds(breeds);\r\n    select.style.display = 'flex';\r\n  } catch (error) {\r\n    // handle error\r\n    body.innerHTML = `Ooops, something went wrong!...Try again later`;\r\n    iziToast.error({\r\n      message: `Failed to load content`,\r\n      position: 'topRight',\r\n    });\r\n    console.log(`${error.message}`);\r\n  }\r\n}\r\n//function to render cat breeds to select elem\r\nfunction renderBreeds(breeds) {\r\n  const markup = breeds\r\n    .map(({ id, name }) => {\r\n      return `<option value=\"${id}\">${name}</option>`;\r\n    })\r\n    .join('');\r\n  select.innerHTML = `<select class=\"breed-select\" id=\"selectElement\">${markup}</select>`;\r\n}\r\n//function to render info on a selected cat\r\nfunction renderCatInfo(breed) {\r\n  catInfo.style.display = 'flex';\r\n  const markup = `<img class=\"cat-img\" src=\"${breed[0].url}\" alt=\"${breed[0].breeds[0].name}\"  />\r\n    <div class=\"breed-info\">\r\n      <h1 class=\"cat-name\">${breed[0].breeds[0].name}</h1>\r\n      <p class=\"description\">${breed[0].breeds[0].description}</p>\r\n      <h2 class=\"temperament\">Temperament:</h2>\r\n      <p class=\"temp-descr\">${breed[0].breeds[0].temperament}</p>\r\n    </div>\r\n    `;\r\n  return (catInfo.innerHTML = markup);\r\n}\r\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","body","select","loader","catInfo","onDocumentLoad","breedClickHandler","selectedOption","breed","renderCatInfo","error","iziToast","breeds","renderBreeds","markup","id","name"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAElC,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IAClB,CAEO,eAAeE,EAAgBC,EAAS,CAI7C,OAHiB,MAAMH,EAAM,IAC3B,wDAAwDG,GAC5D,GACkB,IAClB,CCXA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElDF,EAAO,MAAM,QAAU,OAEvB,SAAS,iBAAiB,mBAAoBG,CAAc,EAC5DH,EAAO,iBAAiB,SAAUI,CAAiB,EAEnD,eAAeA,EAAkB,EAAG,CAClC,MAAMC,EAAiB,EAAE,OAAO,MAEhC,GAAI,CACFH,EAAQ,MAAM,QAAU,OACxBD,EAAO,MAAM,QAAU,QACvB,MAAMK,EAAQ,MAAMT,EAAgBQ,CAAc,EAClDJ,EAAO,MAAM,QAAU,OACvBM,EAAcD,CAAK,CACpB,OAAQE,EAAP,CACAT,EAAK,UAAY,iDACjBU,EAAS,MAAM,CACb,QAAS,yBACT,SAAU,WACV,gBAAiB,MACjB,aAAc,qBACd,UAAW,oBACjB,CAAK,EACD,QAAQ,IAAI,GAAGD,EAAM,SAAS,CAC/B,CACH,CAEA,eAAeL,GAAiB,CAC9B,GAAI,CACF,MAAMO,EAAS,MAAMd,IACrB,QAAQ,IAAIc,CAAM,EAClBT,EAAO,MAAM,QAAU,OACvBU,EAAaD,CAAM,EACnBV,EAAO,MAAM,QAAU,MACxB,OAAQQ,EAAP,CAEAT,EAAK,UAAY,iDACjBU,EAAS,MAAM,CACb,QAAS,yBACT,SAAU,UAChB,CAAK,EACD,QAAQ,IAAI,GAAGD,EAAM,SAAS,CAC/B,CACH,CAEA,SAASG,EAAaD,EAAQ,CAC5B,MAAME,EAASF,EACZ,IAAI,CAAC,CAAE,GAAAG,EAAI,KAAAC,KACH,kBAAkBD,MAAOC,YACjC,EACA,KAAK,EAAE,EACVd,EAAO,UAAY,mDAAmDY,YACxE,CAEA,SAASL,EAAcD,EAAO,CAC5BJ,EAAQ,MAAM,QAAU,OACxB,MAAMU,EAAS,6BAA6BN,EAAM,GAAG,aAAaA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,6BAE1DA,EAAM,GAAG,OAAO,GAAG;AAAA,+BACjBA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,8BAEpBA,EAAM,GAAG,OAAO,GAAG;AAAA;AAAA,MAG/C,OAAQJ,EAAQ,UAAYU,CAC9B"}